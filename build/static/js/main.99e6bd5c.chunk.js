(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{20:function(e,n,t){e.exports=t(51)},50:function(e,n,t){},51:function(e,n,t){"use strict";t.r(n);var a=t(0),o=t.n(a),r=t(18),c=t.n(r),u=t(19),l=t(2),i=t(4),m=t.n(i),d=function(e){var n=e.value,t=e.onChange;return o.a.createElement("div",null,"Filter Shown With: ",o.a.createElement("input",{value:n,onChange:t}))},f=function(e){var n=e.newName,t=e.newNameChange,a=e.newNumber,r=e.newNumberChange;return o.a.createElement("div",null,o.a.createElement("div",null,"Name: ",o.a.createElement("input",{value:n,onChange:t})),o.a.createElement("br",null),o.a.createElement("div",null,"Number: ",o.a.createElement("input",{value:a,onChange:r})),o.a.createElement("br",null),o.a.createElement("div",null,o.a.createElement("button",{type:"submit"},"Add")))},s=function(e){var n=e.number,t=e.deletes;return o.a.createElement("div",null,n.name," ",n.number,o.a.createElement("button",{onClick:t},"Delete"))},v="/api/persons",b={getAll:function(){return m.a.get(v).then(function(e){return e.data})},create:function(e){var n=m.a.post(v,e);return console.log(e),n.then(function(e){return e.data})},update:function(e,n){return m.a.put("".concat(v,"/").concat(e),n).then(function(e){return e.data})},remove:function(e){return m.a.delete("".concat(v,"/").concat(e)).then(function(e){return e.data})}},h=function(e){var n=e.message;return""===n?null:n.includes("Added")?o.a.createElement("div",{className:"good"},n):o.a.createElement("div",{className:"error"},n)},E=function(){var e=Object(a.useState)([]),n=Object(l.a)(e,2),t=n[0],r=n[1],c=Object(a.useState)(""),i=Object(l.a)(c,2),m=i[0],v=i[1],E=Object(a.useState)(""),w=Object(l.a)(E,2),g=w[0],p=w[1],C=Object(a.useState)(""),j=Object(l.a)(C,2),O=j[0],N=j[1],S=Object(a.useState)(!0),y=Object(l.a)(S,2),k=y[0],A=y[1],L=Object(a.useState)(""),D=Object(l.a)(L,2),I=D[0],T=D[1];Object(a.useEffect)(function(){b.getAll().then(function(e){r(e)})},[]);var J=k?t:t.filter(function(e){return e.name.toLowerCase().includes(O.toLowerCase())});return o.a.createElement("div",null,o.a.createElement("h2",null,"Phonebook"),o.a.createElement(h,{message:I}),o.a.createElement("div",null,o.a.createElement(d,{value:O,onChange:function(e){N(e.target.value),console.log(O),A(!1),""===e.target.value&&A(!0)}})),o.a.createElement("h2",null,"Add Info"),o.a.createElement("form",{onSubmit:function(e){e.preventDefault(),console.log(m,"you enter");var n=t.some(function(e){return e.name.toLowerCase()==m.toLowerCase()});if(console.log(n),""==m)window.alert("You did not enter a name");else if(0==n){var a={name:m,number:g};T("Added ".concat(m)),setTimeout(function(){T("")},3e3),b.create(a).then(function(e){console.log(e),r(t.concat(e)),v(""),p("")}).catch(function(e){alert(e)})}else{var o=t.find(function(e){return e.name.toLowerCase()==m.toLowerCase()});console.log(o.name);var c=Object(u.a)({},o,{number:g});window.confirm("".concat(m," is already added to phonebook, replace the old number with the new one?"))&&(T("".concat(m," info has been updated")),setTimeout(function(){T("")},5e3),b.update(o.id,c).then(function(e){console.log(e),r(t.map(function(n){return n.id!==o.id?n:e})),v(""),p("")}).catch(function(e){console.log(e)}))}}},o.a.createElement("div",null,o.a.createElement(f,{newName:m,newNameChange:function(e){v(e.target.value)},newNumber:g,newNumberChange:function(e){p(e.target.value),console.log(g)}}))),o.a.createElement("h2",null,"Numbers"),o.a.createElement("div",null,J.map(function(e){return o.a.createElement(s,{key:e.id,number:e,deletes:function(){return function(e){var n=t.find(function(n){return n.id===e});if(window.confirm("Do you want to remove '".concat(n.name,"'? "))){T("".concat(n.name," info has been removed")),setTimeout(function(){T("")},5e3);var a=t.filter(function(n){return n.id!==e});b.remove(e).then(function(e){r(a)}).catch(function(n){T("Information of ".concat(m," has already been removed from server")),r(t.filter(function(n){return n.id!==e}))})}}(e.id)}})})))};t(50);c.a.createRoot(document.getElementById("root")).render(o.a.createElement(o.a.StrictMode,null,o.a.createElement(E,null)))}},[[20,1,2]]]);
//# sourceMappingURL=main.99e6bd5c.chunk.js.map