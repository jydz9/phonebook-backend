(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{20:function(e,n,t){e.exports=t(51)},50:function(e,n,t){},51:function(e,n,t){"use strict";t.r(n);var a=t(0),o=t.n(a),r=t(18),c=t.n(r),u=t(19),l=t(2),i=function(e){var n=e.value,t=e.onChange;return o.a.createElement("div",null,"Filter Shown With: ",o.a.createElement("input",{value:n,onChange:t}))},m=function(e){var n=e.newName,t=e.newNameChange,a=e.newNumber,r=e.newNumberChange;return o.a.createElement("div",null,o.a.createElement("div",null,"Name: ",o.a.createElement("input",{value:n,onChange:t})),o.a.createElement("br",null),o.a.createElement("div",null,"Number: ",o.a.createElement("input",{value:a,onChange:r})),o.a.createElement("br",null),o.a.createElement("div",null,o.a.createElement("button",{type:"submit"},"Add")))},d=function(e){var n=e.number,t=e.deletes;return o.a.createElement("div",null,n.name," ",n.number,o.a.createElement("button",{onClick:t},"Delete"))},f=t(4),s=t.n(f),v="/api/persons",b={getAll:function(){return s.a.get(v).then(function(e){return e.data})},create:function(e){var n=s.a.post(v,e);return console.log(e),n.then(function(e){return e.data})},update:function(e,n){return s.a.put("".concat(v,"/").concat(e),n).then(function(e){return e.data})},remove:function(e){return s.a.delete("".concat(v,"/").concat(e)).then(function(e){return e.data})}},h=function(e){var n=e.message;return""===n?null:n.includes("Added")?o.a.createElement("div",{className:"good"},n):o.a.createElement("div",{className:"error"},n)},E=function(){var e=Object(a.useState)([]),n=Object(l.a)(e,2),t=n[0],r=n[1],c=Object(a.useState)(""),f=Object(l.a)(c,2),s=f[0],v=f[1],E=Object(a.useState)(""),w=Object(l.a)(E,2),g=w[0],p=w[1],C=Object(a.useState)(""),j=Object(l.a)(C,2),O=j[0],N=j[1],S=Object(a.useState)(!0),y=Object(l.a)(S,2),k=y[0],A=y[1],L=Object(a.useState)(""),T=Object(l.a)(L,2),D=T[0],I=T[1];Object(a.useEffect)(function(){b.getAll().then(function(e){r(e)})},[]);var J=k?t:t.filter(function(e){return e.name.toLowerCase().includes(O.toLowerCase())});return o.a.createElement("div",null,o.a.createElement("h2",null,"Phonebook"),o.a.createElement(h,{message:D}),o.a.createElement("div",null,o.a.createElement(i,{value:O,onChange:function(e){N(e.target.value),console.log(O),A(!1),""===e.target.value&&A(!0)}})),o.a.createElement("h2",null,"Add Info"),o.a.createElement("form",{onSubmit:function(e){e.preventDefault(),console.log(s,"you enter");var n=t.some(function(e){return e.name.toLowerCase()===s.toLowerCase()});if(console.log(n),""===s)window.alert("You did not enter a name");else if(!1===n){var a={name:s,number:g};b.create(a).then(function(e){console.log(e),I("Added ".concat(s)),setTimeout(function(){I("")},5e3),r(t.concat(e)),v(""),p("")}).catch(function(e){I(e.response.data.error),setTimeout(function(){I("")},5e3)})}else{var o=t.find(function(e){return e.name.toLowerCase()===s.toLowerCase()});console.log(o.name);var c=Object(u.a)({},o,{number:g});window.confirm("".concat(s," is already added to phonebook, replace the old number with the new one?"))&&(I("".concat(s," info has been updated")),setTimeout(function(){I("")},5e3),b.update(o.id,c).then(function(e){console.log(e),r(t.map(function(n){return n.id!==o.id?n:e})),v(""),p("")}).catch(function(e){console.log(e)}))}}},o.a.createElement("div",null,o.a.createElement(m,{newName:s,newNameChange:function(e){v(e.target.value)},newNumber:g,newNumberChange:function(e){p(e.target.value),console.log(g)}}))),o.a.createElement("h2",null,"Numbers"),o.a.createElement("div",null,J.map(function(e){return o.a.createElement(d,{key:e.id,number:e,deletes:function(){return function(e){var n=t.find(function(n){return n.id===e});if(window.confirm("Do you want to remove '".concat(n.name,"'? "))){I("".concat(n.name," info has been removed")),setTimeout(function(){I("")},5e3);var a=t.filter(function(n){return n.id!==e});b.remove(e).then(function(e){r(a)}).catch(function(n){I("Information of ".concat(s," has already been removed from server")),r(t.filter(function(n){return n.id!==e}))})}}(e.id)}})})))};t(50);c.a.createRoot(document.getElementById("root")).render(o.a.createElement(o.a.StrictMode,null,o.a.createElement(E,null)))}},[[20,1,2]]]);
//# sourceMappingURL=main.9a86d91b.chunk.js.map