{"version":3,"sources":["components/Filter.js","components/PersonForm.js","components/Persons.js","services/backend.js","components/Notification.js","App.js","index.js"],"names":["Filter","_ref","value","onChange","react_default","a","createElement","PersonForm","newName","newNameChange","newNumber","newNumberChange","type","Persons","number","deletes","name","onClick","baseUrl","exportObject","getAll","axios","get","then","response","data","create","newObject","request","post","console","log","update","id","put","concat","remove","delete","Notification","message","includes","className","App","_useState","useState","_useState2","Object","slicedToArray","persons","setPersons","_useState3","_useState4","setNewName","_useState5","_useState6","setNewNumber","_useState7","_useState8","newSearch","setNewSearch","_useState9","_useState10","showAll","setShowAll","_useState11","_useState12","messages","setMessage","useEffect","backService","numberShow","filter","person","toLowerCase","components_Notification","components_Filter","event","target","onSubmit","preventDefault","find","some","window","alert","nameObject","setTimeout","returnPerson","catch","error","findOld","info","updateOld","objectSpread","confirm","map","components_PersonForm","components_Persons","key","getInfo","per","newList","deleteButton","ReactDOM","createRoot","document","getElementById","render","StrictMode","src_App"],"mappings":"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","file":"static/js/main.99e6bd5c.chunk.js","sourcesContent":["import React from 'react'\r\n\r\nconst Filter = ({value, onChange}) => {\r\n    return (\r\n        <div>\r\n            Filter Shown With: <input \r\n            value = {value}\r\n            onChange = {onChange}\r\n            />\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Filter","import React from 'react'\r\n\r\nconst PersonForm = ({newName, newNameChange, newNumber, newNumberChange}) => {\r\n    return(\r\n    <div>\r\n        <div>\r\n            Name: <input \r\n            value={newName} \r\n            onChange={newNameChange} />\r\n        </div>\r\n        <br></br>\r\n        <div>\r\n            Number: <input \r\n            value={newNumber} \r\n            onChange={newNumberChange} />\r\n        </div>\r\n        <br></br>\r\n        <div>\r\n            <button type=\"submit\">Add</button>\r\n        </div>\r\n    </div>\r\n    )\r\n}\r\nexport default PersonForm","import React from 'react'\r\n\r\nconst Persons = ({number, deletes }) => {\r\n    return(\r\n        <div>\r\n            {number.name} {number.number}\r\n            {/* {numberShow.map(number =>\r\n            <div key = {number.id}>\r\n              {number.name} {number.number} */}\r\n            <button onClick = {deletes}>Delete</button>\r\n        </div>   \r\n    )\r\n}\r\n\r\nexport default Persons","import axios from 'axios'\r\nconst baseUrl = '/api/persons'\r\n\r\nconst getAll = () => {\r\n    const request = axios.get(baseUrl)\r\n    return request.then(response => {\r\n        return response.data\r\n    })\r\n}\r\n\r\nconst create = (newObject) => {\r\n    // console.log(\"what\")\r\n    // return axios.post(baseUrl, newObject)\r\n    const request = axios.post(baseUrl, newObject)\r\n    console.log(newObject)\r\n    return request.then(response => response.data)\r\n}\r\n\r\nconst update = (id, newObject) => {\r\n    const request = axios.put(`${baseUrl}/${id}`, newObject)\r\n    return request.then(response => response.data)\r\n}\r\n\r\nconst remove = (id) => {\r\n    const request = axios.delete(`${baseUrl}/${id}`)\r\n    return request.then(response => response.data)\r\n}\r\n\r\nconst exportObject ={\r\n    getAll,\r\n    create,\r\n    update,\r\n    remove\r\n}\r\n\r\nexport default exportObject","import React from 'react'\r\nconst Notification = ({ message }) => {\r\n    if(message === ''){\r\n        return null\r\n    }\r\n    if(message.includes('Added')){\r\n        return (\r\n            <div className='good'>\r\n                {message}\r\n            </div>\r\n        )\r\n    }\r\n    else{\r\n        return (\r\n            <div className='error'>\r\n                {message}\r\n            </div>\r\n        )\r\n    }\r\n    \r\n}\r\n\r\nexport default Notification","// import { useState } from 'react'\nimport React, { useState, useEffect } from 'react';\nimport axios from 'axios'\nimport Filter from './components/Filter'\nimport PersonForm from './components/PersonForm'\nimport Persons from './components/Persons'\nimport backService from './services/backend'\nimport Notification from './components/Notification'\n\nconst App = () => {\n  const [persons, setPersons] = useState([])\n  const [newName, setNewName] = useState('')\n  const [newNumber, setNewNumber] = useState('')\n  const [newSearch, setNewSearch] = useState('')\n  const [showAll, setShowAll] = useState(true)\n  const [messages, setMessage] = useState('')\n  \n  // ([\n  //   { name: 'Arto Hellas', number: '040-123456', id: 1 },\n  //   { name: 'Ada Lovelace', number: '39-44-5323523', id: 2 },\n  //   { name: 'Dan Abramov', number: '12-43-234345', id: 3 },\n  //   { name: 'Mary Poppendieck', number: '39-23-6423122', id: 4 }\n  // ])\n\n  //Instead of creating an array of info, just\n  //get the info from JSON\n  // useEffect(() => {\n  //   axios\n  //     .get('http://localhost:3001/persons')\n  //     .then(response => {\n  //       console.log('promise ok')\n  //       setPersons(response.data)\n  //       console.log(response)\n  //     })\n  // }, [])\n  \n  useEffect(() => {\n    backService\n      .getAll()\n      .then(response => {\n        setPersons(response)\n      })\n  }, [])\n\n\n  const addInfo = (event) => {\n    event.preventDefault()\n    // console.log(persons)\n    console.log(newName, 'you enter')\n    let find = persons.some(person => person['name'].toLowerCase() == (newName.toLowerCase()))\n    console.log(find)\n    \n    if(newName == ''){\n      window.alert('You did not enter a name')\n    }else if(find == false){\n      const nameObject = {\n        name: newName,\n        number: newNumber,\n        // id: persons.length+1\n      }\n\n      setMessage(\n        `Added ${newName}`\n      )\n      setTimeout(() => {\n        setMessage('')\n      }, 3000)\n\n      backService\n        .create(nameObject)\n        .then(returnPerson => { \n          // console.log(returnPerson)\n          // console.log(persons)\n          console.log(returnPerson)\n          setPersons(persons.concat(returnPerson))\n          // setPersons(persons.concat(returnPerson))\n          setNewName('')\n          setNewNumber('')\n        })\n        .catch(error => {\n          alert(error)\n        })\n      // axios\n      //   .post('http://localhost:3001/api/persons',nameObject)\n      //   .then(response => {\n      //     console.log(response)\n      //     setPersons(persons.concat(response.data))\n      //     setNewName('')\n      //     setNewNumber('')\n      //   })\n     \n    }else{\n      const findOld = persons.find(info => info.name.toLowerCase() == newName.toLowerCase())\n      console.log(findOld.name)\n      const updateOld = { ...findOld,\n                          number : newNumber}\n      \n\n      if(window.confirm(`${newName} is already added to phonebook, replace the old number with the new one?`)){\n        setMessage(\n          `${newName} info has been updated`\n          )\n        setTimeout(() => {\n          setMessage('')\n          }, 5000)\n\n        backService\n          .update(findOld.id, updateOld)\n          .then(response => {\n            console.log(response)\n            setPersons(persons.map(info => info.id !== findOld.id ? info : response))\n            setNewName('')\n            setNewNumber('')\n          })\n          .catch(error => {\n            console.log(error)\n          })\n      }\n    }\n  }\n\n  const deleteButton = (id) => {\n    const getInfo = persons.find(per => per.id === id)\n\n\n    if(window.confirm(`Do you want to remove '${getInfo.name}'? `)){\n      setMessage(\n        `${getInfo.name} info has been removed`\n        )\n      setTimeout(() => {\n        setMessage('')\n        }, 5000)\n      // Only get the info that has id different than the id you are deleting\n      const newList = persons.filter(info => info.id !== id)\n      backService\n        .remove(id)\n        .then(response => {\n          setPersons(newList)\n        })\n        .catch(error => {\n          setMessage(`Information of ${newName} has already been removed from server`)\n          setPersons(persons.filter(info => info.id !== id))\n        })\n      // axios.delete(`http://localhost:3001/persons/${id}`)\n      //     .then(response => {\n      //       console.log(response)\n      //       setPersons(newList)\n      //     })\n      //     .catch(error => {\n      //       console.log(error)\n      //     })\n      \n    }\n  }\n\n  const newNameChange = (event) => {\n    // console.log(event.target.value)\n    setNewName(event.target.value)\n  }\n\n  const newNumberChange = (event) => {\n    setNewNumber(event.target.value)\n    console.log(newNumber)\n  }\n\n  const newSearchChange = (event) => {\n    setNewSearch(event.target.value)\n    console.log(newSearch)\n    setShowAll(false)\n    if(event.target.value === ''){\n      setShowAll(true)\n    }\n  }\n\n  const numberShow = showAll\n    ? persons\n    : persons.filter(person => person.name.toLowerCase().includes(newSearch.toLowerCase()))\n    //  === newSearch.toLowerCase())\n    \n  return (\n    <div>\n      <h2>Phonebook</h2>\n      <Notification message = {messages} />\n      {/* <form onSubmit={filter}> */}\n        <div>\n          <Filter value = {newSearch}\n                  onChange = {newSearchChange}\n          ></Filter>\n          {/* Filter Shown with <input \n              value = {newSearch}\n              onChange = {newSearchChange}\n            /> */}\n        </div>\n\n      <h2>Add Info</h2>\n      \n      <form onSubmit={addInfo}>\n        <div>\n          <PersonForm\n            newName = {newName}\n            newNameChange = {newNameChange}\n\n            newNumber = {newNumber}\n            newNumberChange = {newNumberChange}\n            ></PersonForm>\n        </div>\n      </form>\n      {/* <form  onSubmit={addInfo}>\n        <div>\n          Name: <input \n          value = {newName}\n          onChange = {newNameChange}/>\n        </div>\n        <br></br>\n\n        <div>Number: <input \n            value = {newNumber}\n            onChange = {newNumberChange}/> \n        </div>\n        <br></br>\n        <div>\n          <button type=\"submit\">ADD</button>\n        </div>\n      </form> */}\n\n      <h2>Numbers</h2>\n        {/* {persons.map(person => \n          <div key = {person.name}> \n            {person.name} {person.number}\n          </div>)} */}\n        <div>\n          {numberShow.map(number =>\n            <Persons key = {number.id}\n              number = {number}\n              deletes = {() => deleteButton(number.id)}\n            />\n        )}\n        </div>\n          {/* {numberShow.map(number =>\n            <div key = {number.id}>\n              {number.name} {number.number}\n          </div>)} */}\n    </div>\n  )\n}\n\nexport default App","import React from 'react';\nimport ReactDOM from 'react-dom/client';\nimport App from './App';\nimport './index.css';\n\nconst root = ReactDOM.createRoot(document.getElementById('root'));\nroot.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>\n);\n\n"],"sourceRoot":""}